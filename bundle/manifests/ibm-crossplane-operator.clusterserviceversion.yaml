apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: |-
      [
        {
          "apiVersion": "apiextensions.ibm.crossplane.io/v1",
          "kind": "CompositeResourceDefinition",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "kafkacomposites.shim.bedrock.ibm.com"
          },
          "spec": {
            "claimNames": {
              "kind": "KafkaClaim",
              "plural": "kafkaclaims"
            },
            "connectionSecretKeys": [
              "kafka.authentication.type",
              "kafka.authentication.username",
              "kafka.authentication.password",
              "kafka.authentication.secret",
              "kafka.external.endpoint",
              "kafka.external.caCert",
              "kafka.http.url",
              "kafka.internal.endpoint",
              "kafka.internal.caCert"
            ],
            "group": "shim.bedrock.ibm.com",
            "names": {
              "kind": "KafkaComposite",
              "plural": "kafkacomposites"
            },
            "versions": [
              {
                "name": "v1alpha1",
                "referenceable": true,
                "schema": {
                  "openAPIV3Schema": {
                    "properties": {
                      "spec": {
                        "properties": {
                          "parameters": {
                            "type": "object",
                            "x-kubernetes-preserve-unknown-fields": true
                          }
                        },
                        "required": [
                          "parameters"
                        ],
                        "type": "object"
                      }
                    },
                    "type": "object"
                  }
                },
                "served": true
              }
            ]
          }
        },
        {
          "apiVersion": "apiextensions.ibm.crossplane.io/v1",
          "kind": "Composition",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane",
              "consumer": "iaf",
              "kafkaUser": "true",
              "provider": "odlm"
            },
            "name": "kafka-iaf.odlm.bedrock.ibm.com"
          },
          "spec": {
            "compositeTypeRef": {
              "apiVersion": "shim.bedrock.ibm.com/v1alpha1",
              "kind": "KafkaComposite"
            },
            "resources": [
              {
                "base": {
                  "apiVersion": "operator.ibm.com/v1alpha1",
                  "kind": "OperandRequest",
                  "spec": {
                    "requests": [
                      {
                        "operands": [
                          {
                            "name": "ibm-events-operator"
                          }
                        ],
                        "registry": "common-service",
                        "registryNamespace": "ibm-common-services"
                      }
                    ]
                  }
                },
                "patches": [
                  {
                    "fromFieldPath": "metadata.annotations[bedrock.ibm.com/shared-service-name]",
                    "toFieldPath": "metadata.name",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.claimRef.namespace",
                    "toFieldPath": "metadata.namespace",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "metadata.annotations[bedrock.ibm.com/shared-service-namespace]",
                    "toFieldPath": "metadata.namespace",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "metadata.annotations[bedrock.ibm.com/namespace]",
                    "toFieldPath": "spec.requests[0].registryNamespace",
                    "type": "FromCompositeFieldPath"
                  }
                ],
                "readinessChecks": [
                  {
                    "fieldPath": "status.phase",
                    "matchString": "Running",
                    "type": "MatchString"
                  }
                ]
              },
              {
                "base": {
                  "apiVersion": "ibmevents.ibm.com/v1beta1",
                  "kind": "KafkaUser",
                  "spec": {
                    "authentication": {
                      "type": "scram-sha-512"
                    },
                    "authorization": {
                      "acls": [
                        {
                          "host": "*",
                          "operation": "All",
                          "resource": {
                            "name": "iafdemo",
                            "patternType": "prefix",
                            "type": "topic"
                          }
                        },
                        {
                          "host": "*",
                          "operation": "All",
                          "resource": {
                            "name": "iafdemo",
                            "patternType": "prefix",
                            "type": "group"
                          }
                        },
                        {
                          "host": "*",
                          "operation": "Read",
                          "resource": {
                            "name": "__schema_iafdemo",
                            "patternType": "prefix",
                            "type": "topic"
                          }
                        },
                        {
                          "host": "*",
                          "operation": "Alter",
                          "resource": {
                            "name": "__schema_iafdemo",
                            "patternType": "prefix",
                            "type": "topic"
                          }
                        },
                        {
                          "host": "*",
                          "operation": "Describe",
                          "resource": {
                            "type": "cluster"
                          }
                        },
                        {
                          "host": "*",
                          "operation": "Read",
                          "resource": {
                            "name": "__schema_",
                            "patternType": "prefix",
                            "type": "topic"
                          }
                        }
                      ],
                      "type": "simple"
                    },
                    "writeConnectionSecretToRef": {
                      "name": "PLACEHOLDER"
                    }
                  }
                },
                "connectionDetails": [
                  {
                    "fromFieldPath": "spec.authentication.type",
                    "name": "kafka.authentication.type"
                  },
                  {
                    "fromFieldPath": "status.secret",
                    "name": "kafka.authentication.secret"
                  },
                  {
                    "fromFieldPath": "status.username",
                    "name": "kafka.authentication.username"
                  },
                  {
                    "fromConnectionSecretKey": "password",
                    "name": "kafka.authentication.password"
                  }
                ],
                "patches": [
                  {
                    "fromFieldPath": "spec.claimRef.name",
                    "toFieldPath": "metadata.name",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.claimRef.namespace",
                    "toFieldPath": "metadata.namespace",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "metadata.annotations[bedrock.ibm.com/shared-service-namespace]",
                    "toFieldPath": "metadata.namespace",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "metadata.annotations[bedrock.ibm.com/shared-service-name]",
                    "toFieldPath": "metadata.labels['ibmevents.ibm.com/cluster']",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.claimRef.name",
                    "toFieldPath": "spec.writeConnectionSecretToRef.name",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.user.topicPrefix",
                    "toFieldPath": "spec.authorization.acls[0].resource.name",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.user.topicPrefix",
                    "toFieldPath": "spec.authorization.acls[1].resource.name",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.user.topicPrefix",
                    "toFieldPath": "spec.authorization.acls[2].resource.name",
                    "transforms": [
                      {
                        "string": {
                          "fmt": "__schema_%s"
                        },
                        "type": "string"
                      }
                    ],
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.user.topicPrefix",
                    "toFieldPath": "spec.authorization.acls[3].resource.name",
                    "transforms": [
                      {
                        "string": {
                          "fmt": "__schema_%s"
                        },
                        "type": "string"
                      }
                    ],
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.kafkaUserCR.authentication",
                    "toFieldPath": "spec.authentication",
                    "type": "FromCompositeFieldPath"
                  },
                  {
                    "fromFieldPath": "spec.parameters.kafkaUserCR.authorization",
                    "toFieldPath": "spec.authorization",
                    "type": "FromCompositeFieldPath"
                  }
                ],
                "readinessChecks": [
                  {
                    "fieldPath": "status.secret",
                    "type": "NonEmpty"
                  },
                  {
                    "fieldPath": "status.username",
                    "type": "NonEmpty"
                  }
                ]
              }
            ]
          }
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1",
          "kind": "Configuration",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane",
              "ibm-crossplane-provider": "odlm"
            },
            "name": "ibm-crossplane-bedrock-shim-config"
          },
          "spec": {
            "ignoreCrossplaneConstraints": false,
            "package": "ibm-crossplane-bedrock-shim-config",
            "packagePullPolicy": "Never",
            "revisionActivationPolicy": "Automatic",
            "revisionHistoryLimit": 1,
            "skipDependencyResolution": false
          }
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1",
          "kind": "ConfigurationRevision",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane",
              "pkg.crossplane.io/package": "ibm-crossplane-bedrock-shim-config"
            },
            "name": "example-ibm-crossplane-bedrock-shim-config"
          },
          "spec": {
            "desiredState": "Active",
            "ignoreCrossplaneConstraints": false,
            "image": "icr.io/cpopen/cpfs/ibm-crossplane-bedrock-shim-config:1.8.7",
            "packagePullPolicy": "Always",
            "packagePullSecrets": [
              {
                "name": "artifactory-daily"
              }
            ],
            "revision": 1,
            "skipDependencyResolution": false
          }
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1",
          "kind": "Provider",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "example-provider"
          },
          "spec": {
            "package": "placeholder"
          }
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1",
          "kind": "ProviderRevision",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "example-providerrevision"
          },
          "spec": {
            "desiredState": "placeholder",
            "image": "placeholder",
            "revision": 1
          }
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1alpha1",
          "kind": "ControllerConfig",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "example-controllerconfig"
          },
          "spec": {}
        },
        {
          "apiVersion": "pkg.ibm.crossplane.io/v1alpha1",
          "kind": "Lock",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "lock"
          },
          "packages": []
        },
        {
          "apiVersion": "shim.bedrock.ibm.com/v1alpha1",
          "kind": "KafkaClaim",
          "metadata": {
            "annotations": {
              "bedrock.ibm.com/namespace": "ibm-common-services",
              "bedrock.ibm.com/shared-service-name": "bedrock-kafka",
              "bedrock.ibm.com/shared-service-namespace": "iaf"
            },
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane"
            },
            "name": "example-kafkaclaim"
          },
          "spec": {
            "compositionSelector": {
              "matchLabels": {
                "consumer": "iaf",
                "kafkaUser": "true"
              }
            },
            "parameters": {},
            "writeConnectionSecretToRef": {
              "name": "example-kafkaclaim-bindinfo"
            }
          }
        },
        {
          "apiVersion": "shim.bedrock.ibm.com/v1alpha1",
          "kind": "KafkaComposite",
          "metadata": {
            "labels": {
              "app.kubernetes.io/instance": "ibm-crossplane-operator",
              "app.kubernetes.io/managed-by": "ibm-crossplane-operator",
              "app.kubernetes.io/name": "ibm-crossplane",
              "crossplane.io/claim-name": "kafka-example1",
              "crossplane.io/claim-namespace": "iaf",
              "crossplane.io/composite": "kafka-example1-pkf4v"
            },
            "name": "kafka-example1-pkf4v"
          },
          "spec": {
            "claimRef": {
              "apiVersion": "shim.bedrock.ibm.com/v1alpha1",
              "kind": "KafkaClaim",
              "name": "kafka-example1",
              "namespace": "iaf"
            },
            "compositionRef": {
              "name": "kafka-iaf.odlm.bedrock.ibm.com"
            },
            "compositionSelector": {
              "matchLabels": {
                "consumer": "iaf",
                "kafkaUser": "true"
              }
            },
            "parameters": {},
            "resourceRefs": [
              {
                "apiVersion": "operator.ibm.com/v1alpha1",
                "kind": "OperandRequest",
                "name": "bedrock-kafka"
              },
              {
                "apiVersion": "ibmevents.ibm.com/v1beta1",
                "kind": "KafkaUser",
                "name": "kafka-example1"
              }
            ],
            "writeConnectionSecretToRef": {
              "name": "9486dd4c-81ad-4bb0-98b1-0ea8eb25da18",
              "namespace": "ibm-common-services"
            }
          }
        }
      ]
    capabilities: Seamless Upgrades
    categories: Developer Tools
    certified: "false"
    containerImage: icr.io/cpopen/ibm-crossplane-operator:1.12.11
    createdAt: "2021-03-04"
    description: The IBM Crossplane Operator installs an IBM modified version of Crossplane,
      an open source Kubernetes add-on that extends any cluster with the ability to
      provision and manage cloud infrastructure, services, and applications using
      kubectl, GitOps, or any tool that works with the Kubernetes API.
    olm.skipRange: '>=1.0.0 <1.12.11'
    operators.operatorframework.io/builder: operator-sdk-v1.22.1
    operators.operatorframework.io/operator-type: 'non-standalone'
    operators.operatorframework.io/project_layout: go.kubebuilder.io/v2
    repository: https://github.com/IBM/ibm-crossplane-operator
    support: IBM
  labels:
    app.kubernetes.io/instance: ibm-crossplane-operator
    app.kubernetes.io/managed-by: ibm-crossplane-operator
    app.kubernetes.io/name: ibm-crossplane
    operatorframework.io/arch.amd64: supported
    operatorframework.io/arch.ppc64le: supported
    operatorframework.io/arch.s390x: supported
    operatorframework.io/os.linux: supported
  name: ibm-crossplane-operator.v1.12.11
  namespace: placeholder
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - kind: CompositeResourceDefinition
      name: compositeresourcedefinitions.apiextensions.ibm.crossplane.io
      version: v1
    - kind: CompositeResourceDefinition
      name: compositeresourcedefinitions.apiextensions.ibm.crossplane.io
      version: v1beta1
    - kind: CompositionRevision
      name: compositionrevisions.apiextensions.ibm.crossplane.io
      version: v1alpha1
    - kind: Composition
      name: compositions.apiextensions.ibm.crossplane.io
      version: v1
    - kind: Composition
      name: compositions.apiextensions.ibm.crossplane.io
      version: v1beta1
    - kind: ConfigurationRevision
      name: configurationrevisions.pkg.ibm.crossplane.io
      version: v1
    - kind: ConfigurationRevision
      name: configurationrevisions.pkg.ibm.crossplane.io
      version: v1beta1
    - kind: Configuration
      name: configurations.pkg.ibm.crossplane.io
      version: v1
    - kind: Configuration
      name: configurations.pkg.ibm.crossplane.io
      version: v1beta1
    - kind: ControllerConfig
      name: controllerconfigs.pkg.ibm.crossplane.io
      version: v1alpha1
    - kind: KafkaClaim
      name: kafkaclaims.shim.bedrock.ibm.com
      version: v1alpha1
    - kind: KafkaComposite
      name: kafkacomposites.shim.bedrock.ibm.com
      version: v1alpha1
    - kind: Lock
      name: locks.pkg.ibm.crossplane.io
      version: v1alpha1
    - kind: Lock
      name: locks.pkg.ibm.crossplane.io
      version: v1beta1
    - kind: PostgresClaim
      name: postgresclaims.shim.bedrock.ibm.com
      version: v1alpha1
    - kind: PostgresComposite
      name: postgrescomposites.shim.bedrock.ibm.com
      version: v1alpha1
    - kind: ProviderRevision
      name: providerrevisions.pkg.ibm.crossplane.io
      version: v1
    - kind: ProviderRevision
      name: providerrevisions.pkg.ibm.crossplane.io
      version: v1beta1
    - kind: Provider
      name: providers.pkg.ibm.crossplane.io
      version: v1
    - kind: Provider
      name: providers.pkg.ibm.crossplane.io
      version: v1beta1
  description: |-
    **Important:** Do not install this operator directly. Only install this operator using the IBM Common Services Operator. For more information about installing this operator and other Common Services operators, see [Installer documentation](http://ibm.biz/cpcs_opinstall). Additionally, you can exit this panel and navigate to the IBM Common Services tile in OperatorHub to learn more about the operator. If you are using this operator as part of an IBM Cloud Pak, see the documentation for that IBM Cloud Pak to learn more about how to install and use the operator service. For more information about IBM Cloud Paks, see [IBM Cloud Paks that use Common Services](http://ibm.biz/cpcs_cloudpaks).

    The IBM Crossplane Operator installs an IBM modified version of Crossplane, an open source Kubernetes add-on that extends any cluster with the ability to provision and manage cloud infrastructure, services, and applications using kubectl, GitOps, or any tool that works with the Kubernetes API.

    For more information about the available IBM Cloud Platform Common Services, see the [IBM Knowledge Center](http://ibm.biz/cpcsdocs).

    ## Supported platforms

    Red Hat OpenShift Container Platform 4.6 or newer installed on one of the following platforms:

     - Linux x86_64
     - Linux on Power (ppc64le)
     - Linux on IBM Z and LinuxONE

    ## Prerequisites

    Before you install this operator, you need to first install the operator prerequisites:

    - For the list of prerequisites for installing the operator, see the IBM Knowledge Center [Preparing to install services documentation](http://ibm.biz/cpcs_opinstprereq).

    #### Minimum scheduling capacity

    | Software                   | Memory (MB) | CPU (cores) | Nodes  |
    | -------------------------- | ----------- | ----------- | ------ |
    | ibm crossplane operator    | 256         | 0.1         | worker |
    | **Total**                  | 256         | 0.1         |        |

    ## Documentation

    To install the operator with the IBM Common Services Operator follow the the installation and configuration instructions within the IBM Knowledge Center.

    - If you are using the operator as part of an IBM Cloud Pak, see the documentation for that IBM Cloud Pak. For a list of IBM Cloud Paks, see [IBM Cloud Paks that use Common Services](http://ibm.biz/cpcs_cloudpaks).
    - If you are using the operator with an IBM Containerized Software, see the IBM Cloud Platform Common Services Knowledge Center [Installer documentation](http://ibm.biz/cpcs_opinstall).

    ## Installing

    For installation, see the [IBM Cloud Platform Common Services documentation](http://ibm.biz/cpcsdocs).

    ## Configuration

    For configuration, see the [IBM Cloud Platform Common Services documentation](http://ibm.biz/cpcsdocs).

    ### SecurityContextConstraints Requirements

    The IBM Common Service Operator supports running with the OpenShift Container Platform 4.6 default restricted Security Context Constraints (SCCs) and IBM Cloud Pak Security Context Constraints (SCCs).

    For more information about the OpenShift Container Platform Security Context Constraints, see [Managing Security Context Constraints](https://docs.openshift.com/container-platform/4.3/authentication/managing-security-context-constraints.html).

    For more information about the IBM Cloud Pak Security Context Constraints, see [Managing Security Context Constraints](https://ibm.biz/cpkspec-scc).

    ### Limitations

    No
  displayName: IBM Crossplane
  icon:
  - base64data: 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
    mediatype: image/png
  install:
    spec:
      clusterPermissions:
      - rules:
        - apiGroups:
          - apiextensions.k8s.io
          resources:
          - customresourcedefinitions
          verbs:
          - list
          - watch
        - apiGroups:
          - ""
          resources:
          - events
          verbs:
          - create
          - update
          - patch
          - delete
        - apiGroups:
          - apiextensions.ibm.crossplane.io
          - pkg.ibm.crossplane.io
          - kubernetes.crossplane.io
          resources:
          - locks
          - compositeresourcedefinitions
          - compositions
          - providers
          - providerrevisions
          - configurations
          - configurationrevisions
          - controllerconfigs
          - objects
          - locks/finalizers
          - compositeresourcedefinitions/finalizers
          - compositions/finalizers
          - providers/finalizers
          - providerrevisions/finalizers
          - configurations/finalizers
          - configurationrevisions/finalizers
          - controllerconfigs/finalizers
          - objects/finalizers
          - locks/status
          - compositeresourcedefinitions/status
          - compositions/status
          - providers/status
          - providerrevisions/status
          - configurations/status
          - configurationrevisions/status
          - controllerconfigs/status
          - objects/status
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apiextensions.k8s.io
          resourceNames:
          - kafkacomposites.shim.bedrock.ibm.com
          - kafkaclaims.shim.bedrock.ibm.com
          resources:
          - customresourcedefinitions
          verbs:
          - get
        - apiGroups:
          - shim.bedrock.ibm.com
          resources:
          - kafkaclaims
          - kafkacomposites
          - kafkaclaims/finalizers
          - kafkacomposites/finalizers
          - kafkaclaims/status
          - kafkacomposites/status
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apiextensions.k8s.io
          resourceNames:
          - postgrescomposites.shim.bedrock.ibm.com
          - postgresclaims.shim.bedrock.ibm.com
          resources:
          - customresourcedefinitions
          verbs:
          - get
        - apiGroups:
          - shim.bedrock.ibm.com
          resources:
          - postgresclaims
          - postgrescomposites
          - postgresclaims/finalizers
          - postgrescomposites/finalizers
          - postgresclaims/status
          - postgrescomposites/status
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        serviceAccountName: ibm-crossplane
      deployments:
      - label:
          app.kubernetes.io/instance: ibm-crossplane
          app.kubernetes.io/managed-by: ibm-crossplane
          app.kubernetes.io/name: ibm-crossplane
          name: ibm-crossplane
        name: ibm-crossplane
        spec:
          progressDeadlineSeconds: 600
          replicas: 1
          revisionHistoryLimit: 10
          selector:
            matchLabels:
              app: ibm-crossplane
              intent: projected
              release: ibm-crossplane
          strategy:
            rollingUpdate:
              maxSurge: 25%
              maxUnavailable: 25%
            type: RollingUpdate
          template:
            metadata:
              annotations:
                productID: 068a62892a1e4db39641342e592daa25
                productMetric: FREE
                productName: IBM Cloud Platform Common Services
              labels:
                app: ibm-crossplane
                app.kubernetes.io/instance: ibm-crossplane
                app.kubernetes.io/managed-by: ibm-crossplane
                app.kubernetes.io/name: ibm-crossplane
                intent: projected
                release: ibm-crossplane
            spec:
              affinity:
                nodeAffinity:
                  requiredDuringSchedulingIgnoredDuringExecution:
                    nodeSelectorTerms:
                    - matchExpressions:
                      - key: kubernetes.io/arch
                        operator: In
                        values:
                        - amd64
                        - ppc64le
                        - s390x
                podAntiAffinity:
                  preferredDuringSchedulingIgnoredDuringExecution:
                  - podAffinityTerm:
                      labelSelector:
                        matchExpressions:
                        - key: app
                          operator: In
                          values:
                          - ibm-crossplane
                      topologyKey: kubernetes.io/hostname
                    weight: 100
              containers:
              - args:
                - core
                - start
                env:
                - name: WATCH_NAMESPACE
                  valueFrom:
                    fieldRef:
                      fieldPath: metadata.annotations['olm.targetNamespaces']
                - name: LEADER_ELECTION
                  value: "true"
                - name: IBM_CROSSPLANE_BEDROCK_SHIM_CONFIG_IMAGE
                  value: icr.io/cpopen/cpfs/ibm-crossplane-bedrock-shim-config:1.8.7
                image: icr.io/cpopen/ibm-crossplane-operator:1.12.11
                imagePullPolicy: Always
                name: ibm-crossplane
                resources:
                  limits:
                    cpu: 50m
                    ephemeral-storage: 5Mi
                    memory: 256Mi
                  requests:
                    cpu: 25m
                    ephemeral-storage: 5Mi
                    memory: 128Mi
                securityContext:
                  allowPrivilegeEscalation: false
                  capabilities:
                    drop:
                    - ALL
                  privileged: false
                  readOnlyRootFilesystem: true
                  runAsNonRoot: true
                terminationMessagePath: /dev/termination-log
                terminationMessagePolicy: File
                volumeMounts:
                - mountPath: /cache
                  name: package-cache
              dnsPolicy: ClusterFirst
              initContainers:
              - args:
                - echo "Start initContainers"; echo "copy xpkg file with ID"; cp /package/ibm-crossplane-bedrock-shim-config*.xpkg
                  /cache/; echo "copy xpkg file without ID"; cp /package/ibm-crossplane-bedrock-shim-config*.xpkg
                  /cache/ibm-crossplane-bedrock-shim-config.xpkg; ls -ls /cache/;
                  echo "Finish initContainers";
                command:
                - bash
                - -c
                image: icr.io/cpopen/ibm-crossplane-operator:1.12.11
                name: copy-config
                resources:
                  limits:
                    cpu: 50m
                    ephemeral-storage: 5Mi
                    memory: 256Mi
                  requests:
                    cpu: 25m
                    ephemeral-storage: 5Mi
                    memory: 128Mi
                securityContext:
                  allowPrivilegeEscalation: false
                  capabilities:
                    drop:
                    - ALL
                  privileged: false
                  readOnlyRootFilesystem: true
                  runAsNonRoot: true
                volumeMounts:
                - mountPath: /cache
                  name: package-cache
                - mountPath: /package
                  name: package-config
              restartPolicy: Always
              schedulerName: default-scheduler
              securityContext: {}
              serviceAccount: ibm-crossplane
              serviceAccountName: ibm-crossplane
              terminationGracePeriodSeconds: 30
              topologySpreadConstraints:
              - labelSelector:
                  matchLabels:
                    key: app
                    values: ibm-crossplane
                maxSkew: 1
                topologyKey: topology.kubernetes.io/zone
                whenUnsatisfiable: ScheduleAnyway
              - labelSelector:
                  matchLabels:
                    key: app
                    values: ibm-crossplane
                maxSkew: 1
                topologyKey: topology.kubernetes.io/region
                whenUnsatisfiable: ScheduleAnyway
              volumes:
              - emptyDir:
                  sizeLimit: 5Mi
                name: package-cache
              - configMap:
                  name: crossplane-config
                name: package-config
      permissions:
      - rules:
        - apiGroups:
          - ""
          resources:
          - events
          - pods
          - secrets
          - serviceaccounts
          - services
          - services/finalizers
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - apps
          resources:
          - deployments
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - rbac.authorization.k8s.io
          resources:
          - roles
          - rolebindings
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ""
          - coordination.k8s.io
          resources:
          - configmaps
          - leases
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - operator.ibm.com
          resources:
          - operandrequests
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ibmcloud.ibm.com
          resources:
          - bindings
          - services
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - ibmevents.ibm.com
          resources:
          - kafkas
          - kafkausers
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        - apiGroups:
          - postgresql.k8s.enterprisedb.io
          resources:
          - clusters
          verbs:
          - create
          - delete
          - get
          - list
          - patch
          - update
          - watch
        serviceAccountName: ibm-crossplane
    strategy: deployment
  installModes:
  - supported: true
    type: OwnNamespace
  - supported: true
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: false
    type: AllNamespaces
  keywords:
  - crossplane
  - ibm
  links:
  - name: IBM Crossplane Operator
    url: https://github.com/IBM/ibm-crossplane-operator
  maturity: alpha
  minKubeVersion: 1.19.0
  provider:
    name: IBM
  version: 1.12.11
  relatedImages:
  - name: IBM_CROSSPLANE_BEDROCK_SHIM_CONFIG_IMAGE
    image: icr.io/cpopen/cpfs/ibm-crossplane-bedrock-shim-config:1.8.7
  - name: IBM_CROSSPLANE_OPERATOR_IMAGE
    image: icr.io/cpopen/ibm-crossplane-operator:1.12.11
